version: '3'
services:
    transform: 
        image: docker-registry:31978/xel_bb_transform:v1.0
        restart: always
        expose:
            - "5000/tcp"
        volumes:
            - "/home/domizzi/Documents/XELHUA/deployer/app//results/xelhua:/home/domizzi/Documents/XELHUA/deployer/app//results/xelhua"
            - "/home/domizzi/Documents/XELHUA/deployer/app//results//xelhua/inputs:/home/domizzi/Documents/XELHUA/deployer/app//results//xelhua/inputs"
        networks:
             - xelhua
        environment:
            TPS_MANAGER: http://tps_manager:5000
            API_GATEWAY: coordinator:5555
            NETWORK: 1df2b9e931bf0003653db4e35a32a975619d6ee0717be3a1d5c2ed65facc429e
            SERVICE_NAME: catalogs
            SERVICE_IP: bb_catalogs_0
            SERVICE_PORT: 80
    catalog: 
        image: docker-registry:31978/xel_bb_catalog:v1.0
        restart: always
        expose:
            - "5000/tcp"
        volumes:
            - "/home/domizzi/Documents/XELHUA/deployer/app//results/xelhua:/home/domizzi/Documents/XELHUA/deployer/app//results/xelhua"
            - "/home/domizzi/Documents/XELHUA/deployer/app//results//xelhua/inputs:/home/domizzi/Documents/XELHUA/deployer/app//results//xelhua/inputs"
        networks:
             - xelhua
        environment:
            TPS_MANAGER: http://tps_manager:5000
            API_GATEWAY: coordinator:5555
            NETWORK: 1df2b9e931bf0003653db4e35a32a975619d6ee0717be3a1d5c2ed65facc429e
            SERVICE_NAME: catalogs
            SERVICE_IP: bb_catalogs_0
            SERVICE_PORT: 80
    lbtransformpattern: 
        image: ddomizzi/tc:balancer
        restart: always
        expose:
            - "5000/tcp"
        networks:
             - xelhua
        links:
            - transform
    lbcatalogpattern: 
        image: ddomizzi/tc:balancer
        restart: always
        expose:
            - "5000/tcp"
        networks:
             - xelhua
        links:
            - catalog


networks:
    xelhua:
